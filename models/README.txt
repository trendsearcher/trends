названия скриптов отражают их содержание относительно вот этой истории изменений:



К нашей задаче было 2 подхода: использовать картинки в '1d' CNN и цифры, характеризующие картинки. Есть также 2 варианта выставления оценок. 
Пока применяем топорную классификацию up/down для простоты. Классы почти идеально 50/50.

На практике оказалось, что цифры работают в лог регрессии, лесах и dnn на игрушечных сетах в 1000 примеров (average acc на кроссвалидации 54%) 
на 2 разных наборах данных.

СNN на картинках (average acc на кроссвалидации 54%) на 2 разных наборах данных. 



Проверим, не идиоты ли мы?



Возможно, есть баг? сгенерируем белый шум и сделаем броуновское движение на псевдослучайных цифрах. И прогоним эти данные через все этапы.
Нет. Мы молодцы. проверка дает ровно 50%.
Теперь проверим, не делаем ли мы лишнюю предподготовку? Может можно обойтись рандомными картинками и так все будет работать. Для проверки целесообразности именно такого нашего подхода к задаче попробовал убрать хвост паттерна длиной в 1/2 и во втором случае нарастил паттерн на 1/2. В обоих случаях метрики падают в 2-3 раза где-то. Поварьировал разрешение картинок на вход в СNN [500, 1000, 1500] сегментов в длину - 1000 - лучшеб так и оставим.
Интересно, что точность моделек почти идеально совпадала на игрушечных датасатех Логично было проверить, совпадают ли угадываемые моделью
примеры? Совпадают они лишь на 80+-%
Поэтому решил объединить входы моделей в 1 сетку и проверить, есть ли эффект синергии? - не вышло. те же (average acc на кроссвалидации 54%)
Ладно. тогда попробуем дать равные голоса для dnn и cnn и сделать ансамбль. Получили 55% на 3 разных наборах данных.
В дальнейшем будем использовать этот ансамбль, пока ничего лучше не придумано.
 

Интересно, что на 15000 (4года истории) DNN на цифрах почти не работает (если паттерны имеют стационарные характеристики, то странно, надо 
проверить это при последовательном кормлении модели слева направо).
А вот CNN на картинках дает все те же 54%.
Ансамбль - 54%

Есть стойкое ощущение, что мусора у нас много. Ввел 3-й класс для него (метод разметки обговаривали много раз - писать тут не буду) Вроде работает, картинки можно зачекать в ноутбуке.




